{{/* 
  SEO Meta Tags
  Includes meta description, keywords, canonical URL, and other essential SEO elements
*/}}

{{/* Page Description */}}
{{- $description := "" }}
{{- if .Description }}
  {{- $description = .Description }}
{{- else if .Summary }}
  {{- $description = .Summary | truncate 160 }}
{{- else if .Params.description }}
  {{- $description = .Params.description }}
{{- else if site.Params.description }}
  {{- $description = site.Params.description }}
{{- end }}

{{- if $description }}
  <meta name="description" content="{{ $description | plainify | htmlEscape }}">
{{- end }}

{{/* Keywords */}}
{{- $keywords := slice }}
{{- if .Params.keywords }}
  {{- $keywords = .Params.keywords }}
{{- else if .Params.tags }}
  {{- $keywords = .Params.tags }}
{{- else if site.Params.keywords }}
  {{- $keywords = site.Params.keywords }}
{{- end }}

{{- if $keywords }}
  <meta name="keywords" content="{{ delimit $keywords ", " | htmlEscape }}">
{{- end }}

{{/* Author */}}
{{- $author := "" }}
{{- if .Params.authors }}
  {{- $author = index .Params.authors 0 }}
{{- else if .Params.author }}
  {{- $author = .Params.author }}
{{- else if site.Params.author }}
  {{- $author = site.Params.author }}
{{- end }}

{{- if $author }}
  <meta name="author" content="{{ $author | htmlEscape }}">
{{- end }}

{{/* Canonical URL */}}
{{- $canonical := .Permalink }}
{{- if .Params.canonical }}
  {{- $canonical = .Params.canonical }}
{{- end }}
<link rel="canonical" href="{{ $canonical }}">

{{/* Robots meta */}}
{{- $robots := "index, follow" }}
{{- if .Params.noindex }}
  {{- $robots = "noindex, nofollow" }}
{{- else if .Draft }}
  {{- $robots = "noindex, nofollow" }}
{{- end }}
<meta name="robots" content="{{ $robots }}">

{{/* Language and content type */}}
<meta name="language" content="{{ site.LanguageCode }}">
<meta http-equiv="content-language" content="{{ site.LanguageCode }}">

{{/* Date information */}}
{{- if not .Date.IsZero }}
  <meta name="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05-07:00" }}">
{{- end }}

{{- if not .Lastmod.IsZero }}
  <meta name="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05-07:00" }}">
{{- end }}

{{/* Generator meta tag */}}
<meta name="generator" content="Hugo {{ hugo.Version }}">

{{/* Theme color for mobile browsers */}}
<meta name="theme-color" content="#c59483">
<meta name="msapplication-TileColor" content="#c59483">

{{/* Additional structured data hints */}}
{{- if .IsPage }}
  <meta name="article:section" content="{{ .Section | title }}">
  
  {{- if .Params.tags }}
    {{- range .Params.tags }}
      <meta name="article:tag" content="{{ . | title }}">
    {{- end }}
  {{- end }}
{{- end }}